<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1006px" preserveAspectRatio="none" style="width:1139px;height:1006px;" version="1.1" viewBox="0 0 1139 1006" width="1139px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tg1fwefzyxwh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="168" x="483.5" y="30.6855">Peer to Peer Sharing</text><rect fill="#FFFFFF" filter="url(#f1tg1fwefzyxwh)" height="135.7578" style="stroke: #000000; stroke-width: 2.0;" width="323" x="10" y="210.3047"/><rect fill="#FFFFFF" filter="url(#f1tg1fwefzyxwh)" height="109.4063" style="stroke: #000000; stroke-width: 2.0;" width="918" x="207" y="591.7813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="178" x2="178" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="277" x2="277" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="444.5" x2="444.5" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="567.5" x2="567.5" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="705" x2="705" y1="392.8672" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="825" x2="825" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="943" x2="943" y1="126.25" y2="920.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1061" x2="1061" y1="126.25" y2="920.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="20" y="123.1738">User</text><ellipse cx="37.5" cy="51.6406" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37.5,59.6406 L37.5,86.6406 M24.5,67.6406 L50.5,67.6406 M37.5,86.6406 L24.5,101.6406 M37.5,86.6406 L50.5,101.6406 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="20" y="934.1816">User</text><ellipse cx="37.5" cy="947.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37.5,955.2578 L37.5,982.2578 M24.5,963.2578 L50.5,963.2578 M37.5,982.2578 L24.5,997.2578 M37.5,982.2578 L50.5,997.2578 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="65" y="123.1738">Tagging UI</text><path d="M81.5,80.6406 L81.5,104.6406 M81.5,92.6406 L98.5,92.6406 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="110.5" cy="92.6406" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="65" y="934.1816">Tagging UI</text><path d="M81.5,941.2578 L81.5,965.2578 M81.5,953.2578 L98.5,953.2578 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="110.5" cy="953.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="149" y="123.1738">IP Cams</text><path d="M157.5,80.6406 L157.5,104.6406 M157.5,92.6406 L174.5,92.6406 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="186.5" cy="92.6406" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="149" y="934.1816">IP Cams</text><path d="M157.5,941.2578 L157.5,965.2578 M157.5,953.2578 L174.5,953.2578 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="186.5" cy="953.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="217" y="123.1738">Streaming Service</text><ellipse cx="277.5" cy="92.6406" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="273.5,80.6406,279.5,75.6406,277.5,80.6406,279.5,85.6406,273.5,80.6406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="217" y="934.1816">Streaming Service</text><ellipse cx="277.5" cy="953.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="273.5,941.2578,279.5,936.2578,277.5,941.2578,279.5,946.2578,273.5,941.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="387.5" y="123.1738">Directory Service</text><ellipse cx="444.5" cy="92.6406" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="440.5,80.6406,446.5,75.6406,444.5,80.6406,446.5,85.6406,440.5,80.6406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="387.5" y="934.1816">Directory Service</text><ellipse cx="444.5" cy="953.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="440.5,941.2578,446.5,936.2578,444.5,941.2578,446.5,946.2578,440.5,941.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="511.5" y="123.1738">Proximity Service</text><ellipse cx="568" cy="92.6406" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="564,80.6406,570,75.6406,568,80.6406,570,85.6406,564,80.6406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="511.5" y="934.1816">Proximity Service</text><ellipse cx="568" cy="953.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="564,941.2578,570,936.2578,568,941.2578,570,946.2578,564,941.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="649" y="934.1816">Proximity Record</text><ellipse cx="705" cy="953.2578" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="693" x2="717" y1="967.2578" y2="967.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="795.5" y="105.5645">Coach 1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="771" y="123.1738">Tablets\Laptops</text><path d="M804.5,63.0313 L804.5,87.0313 M804.5,75.0313 L821.5,75.0313 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="833.5" cy="75.0313" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="795.5" y="934.1816">Coach 1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="771" y="951.791">Tablets\Laptops</text><path d="M804.5,958.8672 L804.5,982.8672 M804.5,970.8672 L821.5,970.8672 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="833.5" cy="970.8672" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="913.5" y="105.5645">Coach 2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="889" y="123.1738">Tablets\Laptops</text><path d="M922.5,63.0313 L922.5,87.0313 M922.5,75.0313 L939.5,75.0313 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="951.5" cy="75.0313" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="913.5" y="934.1816">Coach 2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="889" y="951.791">Tablets\Laptops</text><path d="M922.5,958.8672 L922.5,982.8672 M922.5,970.8672 L939.5,970.8672 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="951.5" cy="970.8672" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1031.5" y="105.5645">Coach 3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1007" y="123.1738">Tablets\Laptops</text><path d="M1040.5,63.0313 L1040.5,87.0313 M1040.5,75.0313 L1057.5,75.0313 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1069.5" cy="75.0313" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1031.5" y="934.1816">Coach 3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1007" y="951.791">Tablets\Laptops</text><path d="M1040.5,958.8672 L1040.5,982.8672 M1040.5,970.8672 L1057.5,970.8672 " fill="none" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1069.5" cy="970.8672" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FBFB77" filter="url(#f1tg1fwefzyxwh)" height="57" style="stroke: #A80036; stroke-width: 1.0;" width="122" x="216" y="141.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="220" y="158.7451">Stores media_file_1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="220" y="175.0967">Stores media_file_2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="220" y="191.4482">Stores media_file_3</text><path d="M10,210.3047 L184,210.3047 L184,218.3047 L174,228.3047 L10,228.3047 L10,210.3047 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="135.7578" style="stroke: #000000; stroke-width: 2.0;" width="323" x="10" y="210.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="25" y="224.7998">Record and Transfer</text><polygon fill="#A80036" points="166,247.0078,176,251.0078,166,255.0078,170,251.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="172" y1="251.0078" y2="251.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="44.5" y="246.1514">start()</text><path d="M55,264.0078 L55,306.0078 L323,306.0078 L323,274.0078 L313,264.0078 L55,264.0078 " fill="#FBFB77" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M313,264.0078 L313,274.0078 L323,274.0078 L313,264.0078 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="73" y="282.5029">The process till the streaming service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="85" y="298.8545">is ready to send media to Coaches</text><polygon fill="#A80036" points="166,334.0625,176,338.0625,166,342.0625,170,338.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="172" y1="338.0625" y2="338.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="44.5" y="333.2061">stop()</text><polygon fill="#A80036" points="637,371.4141,647,375.4141,637,379.4141,641,375.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="643" y1="375.4141" y2="375.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="575" y="370.5576">maintain()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="649" y="399.5957">Proximity Record</text><ellipse cx="705" cy="369.0625" fill="#FEFECE" filter="url(#f1tg1fwefzyxwh)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="693" x2="717" y1="383.0625" y2="383.0625"/><path d="M514,417.6719 L514,476.6719 L758,476.6719 L758,427.6719 L748,417.6719 L514,417.6719 " fill="#FBFB77" filter="url(#f1tg1fwefzyxwh)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M748,417.6719 L748,427.6719 L758,427.6719 L748,417.6719 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="546.75" y="436.167">Create and maintain the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="546.75" y="452.5186">proximity records as per</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="546.75" y="468.8701">1_2ShortestQueueFirst.puml</text><polygon fill="#FBFB77" filter="url(#f1tg1fwefzyxwh)" points="759,490.7266,890,490.7266,900,502.7266,890,514.7266,759,514.7266,749,502.7266,759,490.7266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="761" y="508.2217">Requires media_file_1</text><polygon fill="#FBFB77" filter="url(#f1tg1fwefzyxwh)" points="1009,525.0781,1112,525.0781,1122,537.0781,1112,549.0781,1009,549.0781,999,537.0781,1009,525.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1011" y="542.5732">Has media_file_1</text><polygon fill="#A80036" points="455.5,572.7813,445.5,576.7813,455.5,580.7813,451.5,576.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="449.5" x2="824" y1="576.7813" y2="576.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="461.5" y="571.9248">dispatchCommand(media_file_1)</text><path d="M207,591.7813 L280,591.7813 L280,599.7813 L270,609.7813 L207,609.7813 L207,591.7813 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="109.4063" style="stroke: #000000; stroke-width: 2.0;" width="918" x="207" y="591.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="222" y="606.2764">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="265" x="295" y="605.2002">[for all clients registered with directory service]</text><polygon fill="#A80036" points="288.5,628.4844,278.5,632.4844,288.5,636.4844,284.5,632.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="282.5" x2="443.5" y1="632.4844" y2="632.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="294.5" y="627.6279">queriesFile(media_file_1)</text><polygon fill="#A80036" points="931,658.8359,941,662.8359,931,666.8359,935,662.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.5" x2="937" y1="662.8359" y2="662.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="451.5" y="657.9795">queriesFile(media_file_1)</text><polygon fill="#A80036" points="1049,689.1875,1059,693.1875,1049,697.1875,1053,693.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.5" x2="1055" y1="693.1875" y2="693.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="451.5" y="688.3311">queriesFile(media_file_1)</text><polygon fill="#A80036" points="693,726.5391,703,730.5391,693,734.5391,697,730.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.5" x2="699" y1="730.5391" y2="730.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="451.5" y="725.6826">queriesClientProximity()</text><polygon fill="#A80036" points="455.5,756.8906,445.5,760.8906,455.5,764.8906,451.5,760.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="449.5" x2="704" y1="760.8906" y2="760.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="461.5" y="756.0342">return(client, proximity)</text><rect fill="#FBFB77" filter="url(#f1tg1fwefzyxwh)" height="40" style="stroke: #A80036; stroke-width: 1.0;" width="154" x="367" y="773.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="371" y="791.3857">Evaluate proximity as per</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="371" y="807.7373">availability of media file</text><polygon fill="#A80036" points="813,837.9453,823,841.9453,813,845.9453,817,841.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="444.5" x2="819" y1="841.9453" y2="841.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="451.5" y="837.0889">return(c3Endpoint, fileHandle)</text><polygon fill="#A80036" points="1049,868.2969,1059,872.2969,1049,876.2969,1053,872.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="825" x2="1055" y1="872.2969" y2="872.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="832" y="867.4404">requestFile(media_file_1)</text><polygon fill="#A80036" points="836,898.6484,826,902.6484,836,906.6484,832,902.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="830" x2="1060" y1="902.6484" y2="902.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="842" y="897.792">return(fileStream)</text><!--MD5=[3112725bad97540ec6a5821de94a4bcb]
@startuml Peer to Peer Sharing
title Peer to Peer Sharing
actor "User" as usr
boundary "Tagging UI" as tag
boundary "IP Cams" as ip
control "Streaming Service" as strm
rnote over strm
    Stores media_file_1
    Stores media_file_2
    Stores media_file_3
end rnote
group Record and Transfer
    usr -> ip: start()
    note over tag,strm
    	The process till the streaming service 
        is ready to send media to Coaches
    end note
    usr -> ip: stop()
end
control "Directory Service" as dir
control "Proximity Service" as prox
create entity "Proximity Record" as proxrec
prox -> proxrec: maintain()
note over prox,proxrec
    Create and maintain the
    proximity records as per
    1_2ShortestQueueFirst.puml
end note

boundary "Coach 1\nTablets\Laptops" as c1
hnote over c1: Requires media_file_1
boundary "Coach 2\nTablets\Laptops" as c2
boundary "Coach 3\nTablets\Laptops" as c3
hnote over c3: Has media_file_1
c1 -> dir: dispatchCommand(media_file_1)
loop for all clients registered with directory service
    dir -> strm: queriesFile(media_file_1)
    dir -> c2: queriesFile(media_file_1)
    dir -> c3: queriesFile(media_file_1)
end
dir -> proxrec: queriesClientProximity()
proxrec - -> dir: return(client, proximity)
rnote over dir
    Evaluate proximity as per
    availability of media file
end rnote
dir - -> c1: return(c3Endpoint, fileHandle)
c1 -> c3: requestFile(media_file_1)
c3 - -> c1: return(fileStream)


@enduml

PlantUML version 1.2020.18(Thu Oct 01 01:10:44 IST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: IN
--></g></svg>