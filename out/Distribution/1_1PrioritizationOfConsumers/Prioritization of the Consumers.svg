<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1038px" preserveAspectRatio="none" style="width:1090px;height:1038px;" version="1.1" viewBox="0 0 1090 1038" width="1090px" zoomAndPan="magnify"><defs><filter height="300%" id="fiozx3ka87j1s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="244" x="421" y="30.6855">Prioritization of the Consumers</text><rect fill="#FFFFFF" filter="url(#fiozx3ka87j1s)" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="757" x="273" y="887.1094"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="22" x2="22" y1="126.25" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="107" x2="107" y1="126.25" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="224" x2="224" y1="176.0547" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="350" x2="350" y1="126.25" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="633" x2="633" y1="126.25" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="731" x2="731" y1="126.25" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="844" x2="844" y1="126.25" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="970" x2="970" y1="511.1328" y2="952.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1055" x2="1055" y1="126.25" y2="952.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="5" y="123.1738">User</text><ellipse cx="22.5" cy="51.6406" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M22.5,59.6406 L22.5,86.6406 M9.5,67.6406 L35.5,67.6406 M22.5,86.6406 L9.5,101.6406 M22.5,86.6406 L35.5,101.6406 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="5" y="966.3457">User</text><ellipse cx="22.5" cy="979.4219" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M22.5,987.4219 L22.5,1014.4219 M9.5,995.4219 L35.5,995.4219 M22.5,1014.4219 L9.5,1029.4219 M22.5,1014.4219 L35.5,1029.4219 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="50" y="123.1738">Directory Service</text><path d="M86.5,80.6406 L86.5,104.6406 M86.5,92.6406 L103.5,92.6406 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="115.5" cy="92.6406" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="50" y="966.3457">Directory Service</text><path d="M86.5,973.4219 L86.5,997.4219 M86.5,985.4219 L103.5,985.4219 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="115.5" cy="985.4219" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="175" y="966.3457">Client Registry</text><ellipse cx="224" cy="985.4219" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="212" x2="236" y1="999.4219" y2="999.4219"/><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="287" y="85.6406"/><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="283" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="290" y="111.1738">Dispatch Services</text><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="287" y="951.8125"/><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="283" y="955.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="290" y="977.3457">Dispatch Services</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="583" y="105.5645">Coaches iPads</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="593" y="123.1738">and Laptops</text><path d="M613,63.0313 L613,87.0313 M613,75.0313 L630,75.0313 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="642" cy="75.0313" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="583" y="966.3457">Coaches iPads</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="593" y="983.9551">and Laptops</text><path d="M613,991.0313 L613,1015.0313 M613,1003.0313 L630,1003.0313 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="642" cy="1003.0313" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="694" y="123.1738">Tagging UI</text><path d="M710.5,80.6406 L710.5,104.6406 M710.5,92.6406 L727.5,92.6406 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="739.5" cy="92.6406" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="694" y="966.3457">Tagging UI</text><path d="M710.5,973.4219 L710.5,997.4219 M710.5,985.4219 L727.5,985.4219 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="739.5" cy="985.4219" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="778" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="785" y="111.1738">Streaming Service</text><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="778" y="951.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="785" y="973.3457">Streaming Service</text><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="921" y="951.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="928" y="973.3457">File Transfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="952" y="990.9551">client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="1030" y="123.1738">IP Cam</text><path d="M1035,80.6406 L1035,104.6406 M1035,92.6406 L1052,92.6406 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1064" cy="92.6406" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="1030" y="966.3457">IP Cam</text><path d="M1035,973.4219 L1035,997.4219 M1035,985.4219 L1052,985.4219 " fill="none" filter="url(#fiozx3ka87j1s)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1064" cy="985.4219" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="163,154.6016,173,158.6016,163,162.6016,167,158.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="169" y1="158.6016" y2="158.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="114" y="153.7451">create()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="175" y="182.7832">Client Registry</text><ellipse cx="224" cy="152.25" fill="#FEFECE" filter="url(#fiozx3ka87j1s)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="212" x2="236" y1="166.25" y2="166.25"/><polygon fill="#A80036" points="361.5,214.2109,351.5,218.2109,361.5,222.2109,357.5,218.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="355.5" x2="632.5" y1="218.2109" y2="218.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="367.5" y="213.3545">command(directoryService, register, priority)</text><polygon fill="#A80036" points="118,244.5625,108,248.5625,118,252.5625,114,248.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112" x2="349.5" y1="248.5625" y2="248.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="124" y="243.7061">command(register, client, priority)</text><polygon fill="#A80036" points="118,274.9141,108,278.9141,118,282.9141,114,278.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112" x2="349.5" y1="278.9141" y2="278.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="124" y="274.0576">fetchHandlers()</text><polygon fill="#A80036" points="338.5,305.2656,348.5,309.2656,338.5,313.2656,342.5,309.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="107" x2="344.5" y1="309.2656" y2="309.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="114" y="304.4092">return(clientAddresses)</text><polygon fill="#A80036" points="361.5,335.6172,351.5,339.6172,361.5,343.6172,357.5,339.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="355.5" x2="632.5" y1="339.6172" y2="339.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="367.5" y="334.7607">command(directoryService, subscribe, event)</text><polygon fill="#A80036" points="118,365.9688,108,369.9688,118,373.9688,114,369.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112" x2="349.5" y1="369.9688" y2="369.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="124" y="365.1123">command(subscribe, client, event)</text><polygon fill="#A80036" points="719,396.3203,729,400.3203,719,404.3203,723,400.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="22.5" x2="725" y1="400.3203" y2="400.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="29.5" y="395.4639">start()</text><polygon fill="#A80036" points="361.5,426.6719,351.5,430.6719,361.5,434.6719,357.5,430.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="355.5" x2="730" y1="430.6719" y2="430.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="367.5" y="425.8154">command(streamingService, record)</text><polygon fill="#A80036" points="832.5,457.0234,842.5,461.0234,832.5,465.0234,836.5,461.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="350.5" x2="838.5" y1="461.0234" y2="461.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="357.5" y="456.167">command(record)</text><polygon fill="#A80036" points="909,487.375,919,491.375,909,495.375,913,491.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="844.5" x2="915" y1="491.375" y2="491.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="851.5" y="486.5186">create()</text><rect fill="#FEFECE" filter="url(#fiozx3ka87j1s)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="921" y="469.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="928" y="490.5566">File Transfer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="952" y="508.166">client</text><polygon fill="#A80036" points="361.5,551.5938,351.5,555.5938,361.5,559.5938,357.5,555.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="355.5" x2="843.5" y1="555.5938" y2="555.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="367.5" y="550.7373">notify(recordingStarts)</text><polygon fill="#A80036" points="1043.5,581.9453,1053.5,585.9453,1043.5,589.9453,1047.5,585.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="844.5" x2="1049.5" y1="585.9453" y2="585.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="851.5" y="581.0889">startRecording()</text><polygon fill="#A80036" points="855.5,612.2969,845.5,616.2969,855.5,620.2969,851.5,616.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="849.5" x2="1054.5" y1="616.2969" y2="616.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="861.5" y="611.4404">return(rtspStream)</text><polygon fill="#A80036" points="719,642.6484,729,646.6484,719,650.6484,723,646.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="22.5" x2="725" y1="646.6484" y2="646.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="29.5" y="641.792">stop()</text><polygon fill="#A80036" points="361.5,673,351.5,677,361.5,681,357.5,677" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="355.5" x2="730" y1="677" y2="677"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="367.5" y="672.1436">command(streamingService, save)</text><polygon fill="#A80036" points="832.5,703.3516,842.5,707.3516,832.5,711.3516,836.5,707.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="350.5" x2="838.5" y1="707.3516" y2="707.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="357.5" y="702.4951">command(save)</text><polygon fill="#A80036" points="1043.5,733.7031,1053.5,737.7031,1043.5,741.7031,1047.5,737.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="844.5" x2="1049.5" y1="737.7031" y2="737.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="851.5" y="732.8467">endRecording()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="844.5" x2="886.5" y1="768.0547" y2="768.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="886.5" x2="886.5" y1="768.0547" y2="781.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="845.5" x2="886.5" y1="781.0547" y2="781.0547"/><polygon fill="#A80036" points="855.5,777.0547,845.5,781.0547,855.5,785.0547,851.5,781.0547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="851.5" y="763.1982">save()</text><polygon fill="#A80036" points="361.5,807.4063,351.5,811.4063,361.5,815.4063,357.5,811.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="355.5" x2="843.5" y1="811.4063" y2="811.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="367.5" y="806.5498">notify(recordingStops, fileHandle)</text><polygon fill="#A80036" points="958.5,837.7578,968.5,841.7578,958.5,845.7578,962.5,841.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="350.5" x2="964.5" y1="841.7578" y2="841.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="357.5" y="836.9014">fetchVideo()</text><polygon fill="#A80036" points="118,868.1094,108,872.1094,118,876.1094,114,872.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112" x2="969.5" y1="872.1094" y2="872.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="124" y="867.2529">fetchPriority(subscribers)</text><path d="M273,887.1094 L346,887.1094 L346,895.1094 L336,905.1094 L273,905.1094 L273,887.1094 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="757" x="273" y="887.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="288" y="901.6045">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="361" y="900.5283">[for all subscribers]</text><polygon fill="#A80036" points="361.5,923.8125,351.5,927.8125,361.5,931.8125,357.5,927.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="355.5" x2="969.5" y1="927.8125" y2="927.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="367.5" y="922.9561">return(streamHandle)</text><!--MD5=[775191f070e8055b98c4b9e4748d2d47]
@startuml 
title Prioritization of the Consumers 
    actor "User" as user
    boundary "Directory Service" as dir
    create entity "Client Registry" as reg
    dir -> reg: create()
    collections "Dispatch Services" as dispatch
    boundary "Coaches iPads\n and Laptops" as coach
    coach -> "Dispatch Service" as dispatch: command(directoryService, register, priority)
    dispatch -> dir: command(register, client, priority)
    
    dispatch -> dir: fetchHandlers()
    dir - -> dispatch: return(clientAddresses)
    
    coach -> dispatch: command(directoryService, subscribe, event)
    
    dispatch -> dir: command(subscribe, client, event)
    boundary "Tagging UI" as tag
    user -> tag: start()
    tag -> dispatch: command(streamingService, record)
    dispatch -> "Streaming Service" as strm: command(record)
    create "File Transfer\nclient" as ft
    strm -> ft: create()
    strm - -> dispatch: notify(recordingStarts) 
    boundary "IP Cam" as ip
    strm -> ip: startRecording()
    ip - -> strm: return(rtspStream)
    
    user -> tag: stop()

    tag -> dispatch: command(streamingService, save)
    dispatch -> strm: command(save)
    strm -> ip: endRecording()
    strm -> strm: save()
    strm - -> dispatch: notify(recordingStops, fileHandle) 
    dispatch -> ft: fetchVideo()
    ft -> dir: fetchPriority(subscribers)
    loop for all subscribers
        ft - -> dispatch: return(streamHandle)
    end

@enduml

PlantUML version 1.2020.18(Thu Oct 01 01:10:44 IST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: IN
--></g></svg>